<!-- FilmListings.razor -->
@page "/home"

<div class="filter-sidebar">
    <!-- Filter options go here -->
    <div>Filter 1</div>
    <div>Filter 2</div>
    <div>Filter 3</div>
</div>

<section class="film-listing">
    <!-- Demo film card -->
    @foreach (var film in Films)
    {
        <div class="film-card">
            <img src="https://via.placeholder.com/200" alt="Demo Film Image">
            <div class="film-info">
                <h3>@film.Title</h3>
                <p>@film.Description</p>
            </div>
            <button class="expand-details" @onclick="() => ToggleDetails(film)">+</button>
            <div class="additional-details" style="@film.DetailsStyle">
                <p>Director: @film.Director</p>
                <p>Cast: @film.Cast</p>
            </div>
        </div>
    }

    </section>

@code {
    // Define a class for the film
    public class Film
    {
        public string Title { get; set; }
        public string Description { get; set; }
        public string Director { get; set; }
        public string Cast { get; set; }
        public bool IsExpanded { get; set; }
        public string DetailsStyle => IsExpanded ? "display: block;" : "display: none;";
    }

    // Define some sample films
    List<Film> Films = new List<Film>
    {
        new Film { Title = "Film Title 1", Description = "Some description...", Director = "John Doe", Cast = "Jane Doe, John Smith" },
        new Film { Title = "Film Title 2", Description = "Some description...", Director = "John Doe", Cast = "Jane Doe, John Smith" },
        new Film { Title = "Film Title 3", Description = "Some description...", Director = "John Doe", Cast = "Jane Doe, John Smith" },
        new Film { Title = "Film Title 4", Description = "Some description...", Director = "John Doe", Cast = "Jane Doe, John Smith" },
        new Film { Title = "Film Title 5", Description = "Some description...", Director = "John Doe", Cast = "Jane Doe, John Smith" },
        new Film { Title = "Film Title 6", Description = "Some description...", Director = "John Doe", Cast = "Jane Doe, John Smith" }
    };

    // Method to toggle the details visibility
    void ToggleDetails(Film film)
    {
        film.IsExpanded = !film.IsExpanded;
    }
}
